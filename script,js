let pyodide;

async function loadPyodideAndPackages() {
  pyodide = await loadPyodide(); // loads full Python runtime
  console.log("Pyodide loaded");
}

async function runPython() {
  await pyodide.runPythonAsync(`
    from io import StringIO
    import sys
    sys.stdout = StringIO()
    print("hello world")
    result = sys.stdout.getvalue()
  `);

  const output = pyodide.globals.get("result");
  document.getElementById("output").textContent = output;
}

// Load Pyodide on page load
loadPyodideAndPackages();
